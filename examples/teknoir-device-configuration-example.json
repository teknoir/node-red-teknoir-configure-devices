[{"id":"29752fd.b3b4fd","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"fcb266bd.018998","type":"configure-device","z":"29752fd.b3b4fd","name":"configure rpi4-8gb","devices":["rpi4-8gb"],"x":410,"y":200,"wires":[]},{"id":"ca7cd84e.94f708","type":"add-app","z":"29752fd.b3b4fd","name":"add geolocation app","template":"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: geolocation\n  annotations:\n    deployments.teknoir.ai/output: \"geolocation/location\"\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: geolocation\n  template:\n    metadata:\n      labels:\n        app: geolocation\n    spec:\n      containers:\n        - name: geolocation\n          image: gcr.io/teknoir-poc/geolocation:latest\n          imagePullPolicy: Always\n          env:\n            - name: MQTT_OUT_0\n              value: \"toe/metadata\"\n            - name: UPDATE_INTERVAL\n              value: \"60\"\n            - name: API_KEY\n              value: \"YOUR-GOOGLE-GEOLOCATIOPN_API_KEY\"\n","x":170,"y":120,"wires":[["fcb266bd.018998"]]},{"id":"7697f081.3c125","type":"add-app","z":"29752fd.b3b4fd","name":"add hardware app","template":"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: hardware\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: hardware\n  template:\n    metadata:\n      labels:\n        app: hardware\n    spec:\n      containers:\n        - name: hardware\n          image: gcr.io/teknoir-poc/hardware:latest\n          imagePullPolicy: Always\n          securityContext:\n            privileged: true\n          env:\n            - name: UPDATE_INTERVAL\n              value: \"1\"\n            - name: MQTT_OUT_0\n              value: \"toe/metadata\"\n            - name: CPU_STATS\n              value: \"True\"\n            - name: MEMORY_STATS\n              value: \"True\"\n","x":170,"y":200,"wires":[["fcb266bd.018998"]]},{"id":"50418dda.05b564","type":"add-app","z":"29752fd.b3b4fd","name":"add camera app","template":"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: camera\nspec:\n  replicas: 1\n  strategy:\n    type: Recreate\n  selector:\n    matchLabels:\n      app: camera\n  template:\n    metadata:\n      labels:\n        app: camera\n    spec:\n      imagePullSecrets:\n        - name: gcr-json-key\n      containers:\n        - name: camera\n          image: gcr.io/teknoir-poc/camera_gocv:latest\n          imagePullPolicy: Always\n          securityContext:\n            privileged: true\n          env:\n            - name: MQTT_SERVICE_HOST\n              value: \"mqtt.kube-system\"\n            - name: MQTT_SERVICE_PORT\n              value: \"1883\"\n            - name: MQTT_OUT_0\n              value: \"toe/events\"\n            - name: IMAGE_INTERVAL\n              value: \"1.0\"\n            - name: IMAGE_WIDTH\n              value: \"330\"\n            - name: IMAGE_HEIGHT\n              value: \"244\"\n            - name: DEVICE_ID\n              value: \"0\"\n          volumeMounts:\n            - mountPath: /dev/video0\n              name: video0\n      volumes:\n        - name: video0\n          hostPath:\n            path: /dev/video0\n            type: CharDevice\n","x":160,"y":280,"wires":[["fcb266bd.018998"]]}]